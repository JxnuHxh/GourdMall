package com.hlz.gourdmall.util;

import okhttp3.Headers;
import okhttp3.Response;
import org.springframework.stereotype.Component;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Random;

/**
 * @author: Davion
 * @date: 2019/11/16
 * @description: 发送验证码工具类
 */
@Component
public class SendCheckCode {
    /**
     * 生成验证码
     * @return　验证码
     */
    private String getCode(){
        char[] buffer = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".toCharArray();
        Random random = new Random();
        StringBuilder stringBuffer = new StringBuilder();
        for (int i = 0; i < 6; i++) {
            stringBuffer.append(buffer[random.nextInt(62)]);
        }
        return stringBuffer.toString();
    }

    /**
     * 发送验证码
     * @param sno 发送学号
     * @param sname 发送姓名
     * @return 发送结果
     * @throws IOException
     */
    public Map<String, String> sendCode(String sno, String sname) throws IOException {
        String receive = sno + "|" + sname + ",";
        OkHttpClientUtil clientUtil = OkHttpClientUtil.getInstance();
        String code = getCode();
        String url = "https://jwc.jxnu.edu.cn/User/Default.aspx?uctl=MyControl%2fMail_Write.ascx&Action=Mail_Write";
        Headers headers = new Headers.Builder()
                .add("Cookie", "JwOAUserSettingNew2019=UserNum=DaM33LTiUXBi5aR1mwsPNw==&UserName=/almnWIwch0=&UserType=WmTb330+jk8=&UserLoginTime=2019/11/14 16:17:28; ASP.NET_SessionId=54c5js2wzmqno0zs10wk2qj5")
                .build();
        Map<String, String> data = new HashMap<>();
        data.put("__EVENTVALIDATION", "/wEWBwLru56hBgKKhuW9AQLi98eqCwKJ37qKAQLmuZKFDgLU8OHeAQK+76jCCrelZ6RQC/9Eo4QF2JmHvGDIfLY0WhIq4napo0TAey/A");
        data.put("__VIEWSTATE", "/wEPDwUJNzIzMTk0NzYzD2QWAgIBDxYCHgdlbmN0eXBlBRNtdWx0aXBhcnQvZm9ybS1kYXRhFgoCAQ8PFgIeBFRleHQFITIwMTnlubQxMeaciDE15pelIOaYn+acn+S6lCZuYnNwO2RkAgUPDxYCHwEFD+W9k+WJjeS9jee9ru+8mmRkAgcPDxYCHwEFLCAgIOasoui/juaCqO+8jCgyMDE3MjY3MDUwMjAsU3R1ZGVudCkg5YiY5YuHZGQCCg9kFgQCAQ8PFgIeCEltYWdlVXJsBUUuLi9NeUNvbnRyb2wvQWxsX1Bob3RvU2hvdy5hc3B4P1VzZXJOdW09MjAxNzI2NzA1MDIwJlVzZXJUeXBlPVN0dWRlbnRkZAIDDxYCHwEFwyU8ZGl2IGlkPSdtZW51UGFyZW50XzAnIGNsYXNzPSdtZW51UGFyZW50JyBvbmNsaWNrPSdtZW51R3JvdXBTd2l0Y2goMCk7Jz7miJHnmoTkv6Hmga88L2Rpdj48ZGl2IGlkPSdtZW51R3JvdXAwJyBjbGFzcz0nbWVudUdyb3VwJz48RGl2IGNsYXNzPSdtZW51SXRlbScgdGl0bGU9J+ivvueoi+ihqCc+PGEgaHJlZj0iZGVmYXVsdC5hc3B4PyZjb2RlPTExMSYmdWN0bD1NeUNvbnRyb2xceGZ6X2tjYi5hc2N4Jk15QWN0aW9uPVBlcnNvbmFsIiB0YXJnZXQ9J3BhcmVudCc+6K++56iL6KGoPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5Z+65pys5L+h5oGvJz48YSBocmVmPSIuLlxNeUNvbnRyb2xcU3R1ZGVudF9JbmZvckNoZWNrLmFzcHgiIHRhcmdldD0nX2JsYW5rJz7ln7rmnKzkv6Hmga88L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfkv67mlLnlr4bnoIEnPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0xMTAmJnVjdGw9TXlDb250cm9sXHBlcnNvbmFsX2NoYW5nZXB3ZC5hc2N4IiB0YXJnZXQ9J3BhcmVudCc+5L+u5pS55a+G56CBPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5a2m57GN6aKE6K2mJz48YSBocmVmPSJqYXZhc2NyaXB0Ok9wZW5XaW5kb3coJ3hmel9ieXNoLmFzY3gmQWN0aW9uPVBlcnNvbmFsJyk7IiB0YXJnZXQ9Jyc+5a2m57GN6aKE6K2mPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5paw55Sf5a+85biIJz48YSBocmVmPSJkZWZhdWx0LmFzcHg/JmNvZGU9MjE0JiZ1Y3RsPU15Q29udHJvbFxzdHVkZW50X215dGVhY2hlci5hc2N4IiB0YXJnZXQ9J3BhcmVudCc+5paw55Sf5a+85biIPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n6K++56iL5oiQ57upJz48YSBocmVmPSJqYXZhc2NyaXB0Ok9wZW5XaW5kb3coJ3hmel9jai5hc2N4JkFjdGlvbj1QZXJzb25hbCcpOyIgdGFyZ2V0PScnPuivvueoi+aIkOe7qTwvYT48L2Rpdj48RGl2IGNsYXNzPSdtZW51SXRlbScgdGl0bGU9J+aJi+acuuWPt+eggSc+PGEgaHJlZj0iLi5cTXlDb250cm9sXFBob25lLmFzcHgiIHRhcmdldD0nX2JsYW5rJz7miYvmnLrlj7fnoIE8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSflrrbplb/nmbvlvZUnPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0yMDMmJnVjdGw9TXlDb250cm9sXEp6X3N0dWRlbnRzZXR0aW5nLmFzY3giIHRhcmdldD0ncGFyZW50Jz7lrrbplb/nmbvlvZU8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSflj4zkuJPkuJrlj4zlrabkvY3or77nqIvlronmjpLooagnPjxhIGhyZWY9Ii4uXE15Q29udHJvbFxEZXp5X2tiLmFzcHgiIHRhcmdldD0nX2JsYW5rJz7lj4zkuJPkuJrlj4zlrabkvY3or77nqIvlronmjpLooag8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSflrabkuaDkvZPpqownPjxhIGhyZWY9Ii4uXE15Q29udHJvbFxTdHVkZW50X015UmVwb3J0LmFzcHgiIHRhcmdldD0nX2JsYW5rJz7lrabkuaDkvZPpqow8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfnm7jniYfmm7TmjaLnlLPor7cnPjxhIGhyZWY9Ii4uXE15Q29udHJvbFxwaG90b19yZXBsYWNlLmFzcHgiIHRhcmdldD0nX2JsYW5rJz7nm7jniYfmm7TmjaLnlLPor7c8L2E+PC9kaXY+PC9kaXY+PGRpdiBpZD0nbWVudVBhcmVudF8xJyBjbGFzcz0nbWVudVBhcmVudCcgb25jbGljaz0nbWVudUdyb3VwU3dpdGNoKDEpOyc+5YWs5YWx5pyN5YqhPC9kaXY+PGRpdiBpZD0nbWVudUdyb3VwMScgY2xhc3M9J21lbnVHcm91cCc+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfln7nlhbvmlrnmoYgnPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0xMDQmJnVjdGw9TXlDb250cm9sXGFsbF9qeGpoLmFzY3giIHRhcmdldD0ncGFyZW50Jz7ln7nlhbvmlrnmoYg8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfor77nqIvkv6Hmga8nPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0xMTYmJnVjdGw9TXlDb250cm9sXGFsbF9jb3Vyc2VzZWFyY2guYXNjeCIgdGFyZ2V0PSdwYXJlbnQnPuivvueoi+S/oeaBrzwvYT48L2Rpdj48RGl2IGNsYXNzPSdtZW51SXRlbScgdGl0bGU9J+W8gOivvuWuieaOkic+PGEgaHJlZj0iLi5cTXlDb250cm9sXFB1YmxpY19La2FwLmFzcHgiIHRhcmdldD0nX2JsYW5rJz7lvIDor77lronmjpI8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSflrabnlJ/kv6Hmga8nPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0xMTkmJnVjdGw9TXlDb250cm9sXGFsbF9zZWFyY2hzdHVkZW50LmFzY3giIHRhcmdldD0ncGFyZW50Jz7lrabnlJ/kv6Hmga88L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfmlZnlt6Xkv6Hmga8nPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0xMjAmJnVjdGw9TXlDb250cm9sXGFsbF90ZWFjaGVyLmFzY3giIHRhcmdldD0ncGFyZW50Jz7mlZnlt6Xkv6Hmga88L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfnn63kv6HlubPlj7AnPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0xMjImJnVjdGw9TXlDb250cm9sXG1haWxfbGlzdC5hc2N4IiB0YXJnZXQ9J3BhcmVudCc+55+t5L+h5bmz5Y+wPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5pWZ5a6k5pWZ5a2m5a6J5o6SJz48YSBocmVmPSIuLlxNeUNvbnRyb2xccHVibGljX2NsYXNzcm9vbS5hc3B4IiB0YXJnZXQ9J19ibGFuayc+5pWZ5a6k5pWZ5a2m5a6J5o6SPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5Y+M5a2m5L2N6K++56iL5oiQ57upJz48YSBocmVmPSJqYXZhc2NyaXB0Ok9wZW5XaW5kb3coJ2RlenlfY2ouYXNjeCZBY3Rpb249UGVyc29uYWwnKTsiIHRhcmdldD0nJz7lj4zlrabkvY3or77nqIvmiJDnu6k8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfmr5XkuJrnlJ/lm77lg4/ph4fpm4bkv6Hmga/moKHlr7knPjxhIGhyZWY9Ii4uXE15Q29udHJvbFxUWENKX0luZm9yQ2hlY2suYXNweCIgdGFyZ2V0PSdfYmxhbmsnPuavleS4mueUn+WbvuWDj+mHh+mbhuS/oeaBr+agoeWvuTwvYT48L2Rpdj48RGl2IGNsYXNzPSdtZW51SXRlbScgdGl0bGU9J+acn+acq+aIkOe7qeafpeivoic+PGEgaHJlZj0iamF2YXNjcmlwdDpPcGVuV2luZG93KCd4ZnpfVGVzdF9jai5hc2N4Jyk7IiB0YXJnZXQ9Jyc+5pyf5pyr5oiQ57up5p+l6K+iPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5pyf5pyr5oiQ57up5p+l5YiG55Sz6K+3Jz48YSBocmVmPSJqYXZhc2NyaXB0Ok9wZW5XaW5kb3coJ0Nmc3FfU3R1ZGVudC5hc2N4Jyk7IiB0YXJnZXQ9Jyc+5pyf5pyr5oiQ57up5p+l5YiG55Sz6K+3PC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n6KGl57yT6ICD6ICD6K+V5a6J5o6SJz48YSBocmVmPSJqYXZhc2NyaXB0Ok9wZW5XaW5kb3coJ3hmel9UZXN0X0JISy5hc2N4Jyk7IiB0YXJnZXQ9Jyc+6KGl57yT6ICD6ICD6K+V5a6J5o6SPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5a2m5Lmg6Zeu562UJz48YSBocmVmPSJkZWZhdWx0LmFzcHg/JmNvZGU9MTU5JiZ1Y3RsPU15Q29udHJvbFxBbGxfU3R1ZHlfTGlzdC5hc2N4IiB0YXJnZXQ9J3BhcmVudCc+5a2m5Lmg6Zeu562UPC9hPjwvZGl2PjwvZGl2PjxkaXYgaWQ9J21lbnVQYXJlbnRfMicgY2xhc3M9J21lbnVQYXJlbnQnIG9uY2xpY2s9J21lbnVHcm91cFN3aXRjaCgyKTsnPuaVmeWtpuS/oeaBrzwvZGl2PjxkaXYgaWQ9J21lbnVHcm91cDInIGNsYXNzPSdtZW51R3JvdXAnPjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n572R5LiK6K+E5pWZJz48YSBocmVmPSJqYXZhc2NyaXB0Ok9wZW5XaW5kb3coJ3BqX3N0dWRlbnRfaW5kZXguYXNjeCcpOyIgdGFyZ2V0PScnPue9keS4iuivhOaVmTwvYT48L2Rpdj48RGl2IGNsYXNzPSdtZW51SXRlbScgdGl0bGU9J+aVmeWKoeaEj+ingeeusSc+PGEgaHJlZj0iLi4vRGVmYXVsdC5hc3B4P0FjdGlvbj1BZHZpc2UiIHRhcmdldD0nX2JsYW5rJz7mlZnliqHmhI/op4HnrrE8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfmnJ/mnKvogIPor5XlronmjpInPjxhIGhyZWY9ImRlZmF1bHQuYXNweD8mY29kZT0xMjkmJnVjdGw9TXlDb250cm9sXHhmel90ZXN0X3NjaGVkdWxlLmFzY3giIHRhcmdldD0ncGFyZW50Jz7mnJ/mnKvogIPor5XlronmjpI8L2E+PC9kaXY+PERpdiBjbGFzcz0nbWVudUl0ZW0nIHRpdGxlPSfovoXkv67lj4zkuJPkuJrlj4zlrabkvY3miqXlkI0nPjxhIGhyZWY9ImphdmFzY3JpcHQ6T3BlbldpbmRvdygnRGV6eV9ibS5hc2N4Jyk7IiB0YXJnZXQ9Jyc+6L6F5L+u5Y+M5LiT5Lia5Y+M5a2m5L2N5oql5ZCNPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0nMjAxOOe6p+acrOenkeWtpueUn+i9rOS4k+S4muiwg+WJguaKpeWQjSc+PGEgaHJlZj0iLi5cTXlDb250cm9sXHp6eV9zdHVkZW50X3NxLmFzcHgiIHRhcmdldD0nX2JsYW5rJz4yMDE457qn5pys56eR5a2m55Sf6L2s5LiT5Lia6LCD5YmC5oql5ZCNPC9hPjwvZGl2PjxEaXYgY2xhc3M9J21lbnVJdGVtJyB0aXRsZT0n5q+V5Lia55Sf5q+V5Lia44CB5a2m5L2N55Sz6K+3Jz48YSBocmVmPSIuLlxNeUNvbnRyb2xcQnl4d1NxX3N0dWRlbnQuYXNweCIgdGFyZ2V0PSdfYmxhbmsnPuavleS4mueUn+avleS4muOAgeWtpuS9jeeUs+ivtzwvYT48L2Rpdj48L2Rpdj5kAgwPZBYCZg9kFgYCAg8PFgIfAWVkZAIFDw9kFgIeB29uY2xpY2sFbWRvY3VtZW50LmFsbC5fY3RsMV90eHRSZWNlaXZlVXNlci52YWx1ZT13aW5kb3cuc2hvd01vZGFsRGlhbG9nKCcuLi9NeUNvbnRyb2wvTWFpbF9HZXRVc2VyLmh0bScpO3JldHVybiBmYWxzZTtkAgwPPCsABAEBFCsABBQrAAJkDxYEBGQEZARkBGQWBBQrAAIWCh4FVGl0bGUFCVBhcmFncmFwaB4IQ2xpZW50SUQFCVBhcmFncmFwaB4JaXNCdWlsdEluZx4RQ29tbWFuZElkZW50aWZpZXIFC2Zvcm1hdEJsb2NrHgljbGFzc05hbWUFDVBhcmFncmFwaE1lbnUUKwAJFgQfAQUGTm9ybWFsHgVWYWx1ZQUDPHA+FgQfAQUJSGVhZGluZyAxHwkFBDxoMT4WBB8BBQlIZWFkaW5nIDIfCQUEPGgyPhYEHwEFCUhlYWRpbmcgMx8JBQQ8aDM+FgQfAQUJSGVhZGluZyA0HwkFBDxoND4WBB8BBQlIZWFkaW5nIDUfCQUEPGg1PhYEHwEFCUhlYWRpbmcgNh8JBQQ8aDY+FgQfAQUJRm9ybWF0dGVkHwkFBTxwcmU+FgQfAQUHQWRkcmVzcx8JBQk8YWRkcmVzcz4UKwACFgwfBAUERm9udB8FBQRGb250HwZnHwcFCGZvbnRuYW1lHg1idWlsdEluU2NyaXB0ZR8IBQ1Gb250RmFjZXNNZW51FCsABxYEHwEFBUFyaWFsHwkFBUFyaWFsFgQfAQULQ291cmllciBOZXcfCQULQ291cmllciBOZXcWBB8BBQhHYXJhbW9uZB8JBQhHYXJhbW9uZBYEHwEFB0dlb3JnaWEfCQUHR2VvcmdpYRYEHwEFBlRhaG9tYR8JBQZUYWhvbWEWBB8BBQVUaW1lcx8JBQ9UaW1lcyBOZXcgUm9tYW4WBB8BBQdWZXJkYW5hHwkFB1ZlcmRhbmEUKwACFgwfBAUEU2l6ZR8FBQRTaXplHwZnHwcFCGZvbnRzaXplHwplHwgFDUZvbnRTaXplc01lbnUUKwAGFgQfAQUBMR8JBQExFgQfAQUBMh8JBQEyFgQfAQUBMx8JBQEzFgQfAQUBNB8JBQE0FgQfAQUBNR8JBQE1FgQfAQUBNh8JBQE2FCsAAhYMHwQFBUNvbG9yHwUFBUNvbG9yHwZnHwcFCWZvcmVjb2xvch8KZR8IBRJGb250Rm9yZUNvbG9yc01lbnUUKwAVFgYfAQUFQmxhY2sfCQUHIzAwMDAwMB4JQmFja0NvbG9yCiMWBh8BBQRHcmF5HwkFByM4MDgwODAfCwpOFgYfAQUIRGFya0dyYXkfCQUHI0E5QTlBOR8LCjQWBh8BBQlMaWdodEdyYXkfCQUHI0QzRDNEMx8LCl8WBh8BBQVXaGl0ZR8JBQcjRkZGRkZGHwsKpAEWBh8BBQpBcXVhbWFyaW5lHwkFByM3RkZGRDQfCwofFgYfAQUEQmx1ZR8JBQcjMDAwMEZGHwsKJRYGHwEFBE5hdnkfCQUHIzAwMDA4MB8LCnsWBh8BBQZQdXJwbGUfCQUHIzgwMDA4MB8LCowBFgYfAQUIRGVlcFBpbmsfCQUHI0ZGMTQ5Mx8LCkIWBh8BBQZWaW9sZXQfCQUHI0VFODJFRR8LCqIBFgYfAQUEUGluax8JBQcjRkZDMENCHwsKiQEWBh8BBQlEYXJrR3JlZW4fCQUHIzAwNjQwMB8LCjUWBh8BBQVHcmVlbh8JBQcjMDA4MDAwHwsKTxYGHwEFC1llbGxvd0dyZWVuHwkFByM5QUNEMzIfCwqnARYGHwEFBlllbGxvdx8JBQcjRkZGRjAwHwsKpgEWBh8BBQZPcmFuZ2UfCQUHI0ZGQTUwMB8LCn8WBh8BBQNSZWQfCQUHI0ZGMDAwMB8LCo0BFgYfAQUFQnJvd24fCQUHI0E1MkEyQR8LCicWBh8BBQlCdXJseVdvb2QfCQUHI0RFQjg4Nx8LCigWBh8BBQVCZWlnZR8JBQcjRjVGNURDHwsKIRQrAAJkDxYIBGIEYgRiBGIEcwRiBGIEYhYIFhAfBAUEQm9sZB8FBQRCb2xkHgtCdXR0b25JbWFnZQUEYm9sZB8GZx4TQnVpbHRJbkJ1dHRvbk9mZnNldGYfBwUEYm9sZB8KZR8IBQRCb2xkFhAfBAUGSXRhbGljHwUFBkl0YWxpYx8MBQZpdGFsaWMfBmcfDQITHwcFBml0YWxpYx8KZR8IBQZJdGFsaWMWEB8EBQlVbmRlcmxpbmUfBQUJVW5kZXJsaW5lHwwFCXVuZGVybGluZR8GZx8NAiUfBwUJdW5kZXJsaW5lHwplHwgFCVVuZGVybGluZRYQHwQFDVN0cmlrZVRocm91Z2gfBQUNU3RyaWtlVGhyb3VnaB8MBQ1zdHJpa2V0aHJvdWdoHwZnHw0CIh8HBQ1zdHJpa2V0aHJvdWdoHwplHwgFDVN0cmlrZVRocm91Z2hkFhAfBAULU3VwZXJTY3JpcHQfBQULU3VwZXJTY3JpcHQfDAULc3VwZXJzY3JpcHQfBmcfDQIkHwcFC3N1cGVyc2NyaXB0HwplHwgFC1N1cGVyU2NyaXB0FhAfBAUJU3ViU2NyaXB0HwUFCVN1YlNjcmlwdB8MBQlzdWJzY3JpcHQfBmcfDQIjHwcFCXN1YnNjcmlwdB8KZR8IBQlTdWJTY3JpcHQWEB8EBRVSZW1vdmUgQWxsIEZvcm1hdHRpbmcfBQUTUmVtb3ZlQWxsRm9ybWF0dGluZx8MBQxyZW1vdmVmb3JtYXQfBmcfDQIfHwcFDHJlbW92ZWZvcm1hdB8KZR8IBQxSZW1vdmVGb3JtYXQUKwACZA8WDgRiBGIEYgRiBHMEYgRiBGIEYgRzBGIEYgRiBGIWDhYQHwQFDEp1c3RpZnkgTGVmdB8FBQtKdXN0aWZ5TGVmdB8MBQtqdXN0aWZ5bGVmdB8GZx8NAhYfBwULanVzdGlmeWxlZnQfCmUfCAULSnVzdGlmeUxlZnQWEB8EBQ1KdXN0aWZ5IFJpZ2h0HwUFDEp1c3RpZnlSaWdodB8MBQxqdXN0aWZ5cmlnaHQfBmcfDQIXHwcFDGp1c3RpZnlyaWdodB8KZR8IBQxKdXN0aWZ5UmlnaHQWEB8EBQ5KdXN0aWZ5IENlbnRlch8FBQ1KdXN0aWZ5Q2VudGVyHwwFDWp1c3RpZnljZW50ZXIfBmcfDQIUHwcFDWp1c3RpZnljZW50ZXIfCmUfCAUNSnVzdGlmeUNlbnRlchYQHwQFDEp1c3RpZnkgRnVsbB8FBQtKdXN0aWZ5RnVsbB8MBQtqdXN0aWZ5ZnVsbB8GZx8NAhUfBwULanVzdGlmeWZ1bGwfCmUfCAULSnVzdGlmeUZ1bGxkFhAfBAUNQnVsbGV0ZWQgTGlzdB8FBQxCdWxsZXRlZExpc3QfDAUMYnVsbGV0ZWRsaXN0HwZnHw0CAR8HBRNpbnNlcnR1bm9yZGVyZWRsaXN0HwplHwgFDEJ1bGxldGVkTGlzdBYQHwQFDU51bWJlcmVkIExpc3QfBQUMTnVtYmVyZWRMaXN0HwwFDG51bWJlcmVkbGlzdB8GZx8NAhofBwURaW5zZXJ0b3JkZXJlZGxpc3QfCmUfCAUMTnVtYmVyZWRMaXN0FhAfBAUGSW5kZW50HwUFBkluZGVudB8MBQZpbmRlbnQfBmcfDQIKHwcFBmluZGVudB8KZR8IBQZJbmRlbnQWEB8EBQdPdXRkZW50HwUFB091dGRlbnQfDAUHb3V0ZGVudB8GZx8NAhsfBwUHb3V0ZGVudB8KZR8IBQdPdXRkZW50ZBYQHwQFC0NyZWF0ZSBMaW5rHwUFCkNyZWF0ZUxpbmsfDAUKY3JlYXRlbGluax8GZx8NAgMfBwUKY3JlYXRlbGluax8KBRZ0aGlzLmZ0Yi5DcmVhdGVMaW5rKCk7HwgFCkNyZWF0ZUxpbmsWEh8EBQZVbmxpbmsfDAUGdW5saW5rHwgFBlVubGluax8HBQZ1bmxpbmsfBQUGVW5saW5rHwZnHhRidWlsdEluRW5hYmxlZFNjcmlwdAWLAXZhciBlbCA9IHRoaXMuZnRiLkdldFBhcmVudEVsZW1lbnQoKTsgaWYgKGVsLnRhZ05hbWUgJiYgZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdhJykgdGhpcy5kaXNhYmxlZCA9IHRydWU7IGVsc2UgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOyAfCmUfDQInFhAfBAUMSW5zZXJ0IEltYWdlHwUFC0luc2VydEltYWdlHwwFC2luc2VydGltYWdlHwZnHwcFC2luc2VydGltYWdlHw0CDB8KBRd0aGlzLmZ0Yi5JbnNlcnRJbWFnZSgpOx8IBQtJbnNlcnRJbWFnZRYQHwQFC0luc2VydCBSdWxlHwUFCkluc2VydFJ1bGUfDAUKaW5zZXJ0cnVsZR8GZx8NAg4fBwUUaW5zZXJ0aG9yaXpvbnRhbHJ1bGUfCmUfCAUKSW5zZXJ0UnVsZRQrAAJkDxYHBGIEYgRiBHMEYgRiBGIWBxYQHwQFA0N1dB8FBQNDdXQfDAUDY3V0HwZnHwcFA2N1dB8NAgQfCgUPdGhpcy5mdGIuQ3V0KCk7HwgFA0N1dBYQHwQFBENvcHkfBQUEQ29weR8MBQRjb3B5HwZnHwcFBGNvcHkfDQICHwoFEHRoaXMuZnRiLkNvcHkoKTsfCAUEQ29weRYQHwQFBVBhc3RlHwUFBVBhc3RlHwwFBXBhc3RlHwZnHwcFBXBhc3RlHw0CHB8KBRF0aGlzLmZ0Yi5QYXN0ZSgpOx8IBQVQYXN0ZWQWEh8EBQRVbmRvHwwFBHVuZG8fCAUEVW5kbx8HBQR1bmRvHwUFBFVuZG8fBmcfDgUidGhpcy5kaXNhYmxlZD0hdGhpcy5mdGIuQ2FuVW5kbygpOx8KBRB0aGlzLmZ0Yi5VbmRvKCk7Hw0CJhYSHwQFBFJlZG8fDAUEcmVkbx8IBQRSZWRvHwcFBHJlZG8fBQUEUmVkbx8GZx8OBSJ0aGlzLmRpc2FibGVkPSF0aGlzLmZ0Yi5DYW5SZWRvKCk7HwoFEHRoaXMuZnRiLlJlZG8oKTsfDQIeFhAfBAUFUHJpbnQfBQUFUHJpbnQfDAUFcHJpbnQfBmcfDQIdHwcFBXByaW50HwoFEXRoaXMuZnRiLlByaW50KCk7HwgFBVByaW50ZBgBBR5fX0NvbnRyb2xzUmVxdWlyZVBvc3RCYWNrS2V5X18WAwUVX2N0bDE6Y2tiQXR0YWNoRmlsZTowBRBfY3RsMTp0eHRDb250ZW50BRBfY3RsMTp0eHRDb250ZW50iu9M9pOvk23ZL1LBtT1+W8xR8imK0iiJoJpUP27h3ZQ=");
        data.put("_ctl1:txtTitle", "注册激活短信");
        data.put("_ctl1:btnSend", "发送短信");
        data.put("_ctl1:txtReceiveUser", receive);
        data.put("ctl1_txtContent", code);
        Response response = clientUtil.postData(url, data, headers);
        String html = Objects.requireNonNull(response.body()).string();
        Map<String, String> result = new HashMap<>();
        result.put("code", code);
        if (html.contains("发送成功")) {
            result.put("msg", "success");
            return result;
        }
        result.put("msg", "fail");
        return result;
    }
}
